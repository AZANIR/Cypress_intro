# Тема 4: Базові конструкції тестів

## Цілі навчання

Після вивчення цієї теми ви зможете:

- Зрозуміти структуру тестів у Cypress
- Навчитися використовувати `describe()`, `it()`, `context()`
- Організувати тести в логічні блоки
- Створювати структуровані тестові файли

## Структура тестів

### describe() - групування тестів

`describe()` використовується для групування тестів у логічні блоки:

```javascript
describe('Назва блоку тестів', () => {
  it('Опис тесту 1', () => {
    // Ваш тестовий код
  });

  it('Опис тесту 2', () => {
    // Ваш тестовий код
  });
});
```

**Коли використовувати:**
- Для групування пов'язаних тестів
- Для організації тестів за функціоналом
- Для створення логічної структури

### it() - окремі тестові випадки

`it()` використовується для опису окремих тестових випадків:

```javascript
it('має додати нову задачу', () => {
  cy.visit('/')
  cy.get('.new-todo').type('Нова задача{enter}')
  cy.get('.todo-list li').should('contain', 'Нова задача')
});
```

**Структура:**
- Перший параметр - опис тесту (що перевіряємо)
- Другий параметр - функція з кодом тесту

### Базовий синтаксис Mocha

Cypress використовує Mocha як тестовий фреймворк, тому всі конструкції Mocha доступні:

```javascript
describe('Блок тестів', () => {
  it('тест 1', () => { /* ... */ });
  it('тест 2', () => { /* ... */ });
});
```

## Організація тестів

### context() - контексти

`context()` також використовується для групування тестів, але зазвичай для зміни контексту або опису різних сценаріїв:

```javascript
describe('Робота з задачами', () => {
  context('Коли немає задач', () => {
    it('має показувати порожній список', () => {
      // Тест для порожнього стану
    });
  });

  context('Коли є задачі', () => {
    it('має відображати список задач', () => {
      // Тест для стану з задачами
    });
  });
});
```

**Різниця між describe() та context():**
- `describe()` - для загальної організації тестів у логічні блоки
- `context()` - для опису різних контекстів або сценаріїв в межах одного блоку

**На практиці:** `describe` та `context` працюють однаково, але `context` семантично підкреслює зміну контексту.

### Вкладені блоки тестів

Можна створювати вкладені блоки для більш детальної організації:

```javascript
describe('TodoMVC', () => {
  describe('Додавання задач', () => {
    it('має додати задачу', () => { /* ... */ });
    it('має очистити поле після додавання', () => { /* ... */ });
  });

  describe('Видалення задач', () => {
    it('має видалити задачу', () => { /* ... */ });
  });
});
```

### Найкращі практики організації

1. **Описуйте що, а не як**
   - ✅ Добре: `it('має додати задачу в список')`
   - ❌ Погано: `it('має ввести текст і натиснути Enter')`

2. **Групуйте пов'язані тести**
   - Всі тести для одного функціоналу в одному `describe()`

3. **Використовуйте зрозумілі назви**
   - Назви мають описувати, що тестується
   - Використовуйте українську мову для кращої читабельності

4. **Уникайте занадто глибокого вкладення**
   - Максимум 2-3 рівні вкладення

## Практичні приклади

У папці `examples/` знаходяться робочі приклади:
- `describe-it.cy.js` - базові конструкції на TodoMVC
- `context-example.cy.js` - використання context
- `organized-tests.cy.js` - структуровані тести для TodoMVC

## Типові помилки

1. **Плутанина між `describe` та `context`**
   - На практиці вони працюють однаково
   - Використовуйте `context` для семантичного підкреслення зміни контексту
   - Використовуйте `describe` для загальної організації

2. **Неправильне вкладення блоків**
   - Переконайтеся, що всі дужки закриті
   - Перевірте правильність вкладеності

3. **Погане найменування тестів**
   - Назви мають бути описовими
   - Описуйте очікувану поведінку, а не кроки

## Наступні кроки

Після вивчення цієї теми перейдіть до:
- [Тема 5: Пошук та взаємодія з елементами](../05-interactions/README.md)
