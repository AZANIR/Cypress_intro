# Тема 3: Cypress UI та Test Runner

## Цілі навчання

Після вивчення цієї теми ви зможете:

- Навчитися працювати з Cypress UI
- Зрозуміти компоненти Test Runner
- Оволодіти навичками відлагодження тестів
- Використовувати інструменти для аналізу результатів

## Огляд Cypress UI

### Запуск UI режиму

Cypress UI - це графічний інтерфейс користувача для зручного створення, налагодження та виконання тестів.

Запуск UI режиму:
```bash
npx cypress open
```

Або через npm скрипт:
```bash
npm run cypress:open
```

### Основні компоненти інтерфейсу

1. **Dashboard (Панель управління)**
   - Початкова точка взаємодії з Cypress
   - Перегляд списку проектів
   - Запуск та керування виконанням тестів

2. **Project Explorer (Дослідження проекту)**
   - Відображає структуру вашого проекту
   - Перегляд та редагування тестів
   - Перегляд конфігураційних файлів

3. **Test Runner (Запуск тестів)**
   - Головний інструмент для виконання тестів
   - Відображає результати виконання кожного тесту
   - Візуалізація успіху або невдачі
   - Журнали та час виконання

## Test Runner - детальний огляд

### Command Log (Журнал команд)

Command Log показує список команд, які виконувалися під час тестування:

- **Порядок виконання** - команди відображаються в порядку виконання
- **Результати** - кожна команда має індикатор успіху/невдачі
- **Деталі** - клік на команду показує детальну інформацію
- **Снепшоти** - автоматичні знімки екрану на кожну команду

### Viewport (Вікно браузера)

Viewport відображає поточний стан веб-сторінки:

- **Інтерактивна візуалізація** - бачите, що відбувається на сторінці
- **Відстеження змін** - автоматично відображає зміни під час виконання тесту
- **Масштабування** - можна змінювати розмір viewport для тестування різних розмірів екранів

### Application State (Стан додатку)

Відображає стан вашого веб-додатку під час виконання тестів:

- Зміни стану URL
- Відображення або приховання елементів
- Зміни даних
- Стан форми

### Снепшоти та відео

Cypress автоматично створює:

- **Снепшоти** - знімки екрану на кожну команду
- **Відео** - повне відео виконання тесту (якщо увімкнено)

Це допомагає:
- Відлагоджувати проблеми
- Розуміти, що відбувається на кожному кроці
- Ділитися результатами з командою

## Відлагодження тестів

### Використання команди debug()

Команда `debug()` дозволяє зупинити виконання тесту та перевірити стан:

```javascript
it('приклад використання debug', () => {
  cy.visit('/')
  cy.get('.new-todo').type('Нова задача')
  cy.debug() // Зупинка тут для перевірки
  cy.get('.new-todo').type('{enter}')
})
```

### Точки зупинки

Можна використовувати `.pause()` для інтерактивної відлагодження:

```javascript
it('приклад з паузою', () => {
  cy.visit('/')
  cy.pause() // Зупинка - можна виконати команди вручну
  cy.get('.new-todo').type('Задача')
})
```

### Спостереження за станом DOM

У Command Log можна:
- Клікнути на будь-яку команду
- Побачити стан DOM на момент виконання команди
- Перевірити значення елементів
- Подивитися на атрибути елементів

### Аналіз логів команд

Command Log показує:
- ✅ Успішні команди (зелений колір)
- ❌ Невдалі команди (червоний колір)
- ⏱️ Команди, які очікують (жовтий колір)
- Детальну інформацію про помилки

## Практичні приклади

У папці `examples/` знаходяться робочі приклади:
- `debug-example.cy.js` - приклад використання debug() на TodoMVC
- `snapshots-demo.cy.js` - демонстрація снепшотів

## Типові помилки

1. **Невміння читати Command Log**
   - Кожна команда має індикатор стану
   - Клік на команду показує деталі
   - Червоний колір = помилка

2. **Неправильне використання debug()**
   - `debug()` зупиняє виконання
   - Потрібно натиснути "Resume" для продовження
   - Використовуйте для перевірки стану

3. **Проблеми з відображенням Viewport**
   - Перевірте, чи правильно налаштований baseUrl
   - Переконайтеся, що сайт доступний
   - Перевірте налаштування viewport в конфігурації

## Наступні кроки

Після вивчення цієї теми перейдіть до:
- [Тема 4: Базові конструкції тестів](../04-basic-constructions/README.md)
